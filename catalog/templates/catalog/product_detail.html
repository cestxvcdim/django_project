{% extends 'catalog/base.html' %}
{% load catalog_tags %}

{% block content %}
    <div class="container mt-4">
        <div class="row">
            <div class="col-md-6">
                <img src="{{ product.photo | media_path }}" alt="Product Image" class="img-fluid">
            </div>
            <div class="col-md-6">
                <h2 class="display-4">{{ product_name }}</h2>
                <p class="lead">Цена: {{ product.price }}₽</p>
                <p class="lead">
                    {% if product.description %}
                        {{ product.description }}
                    {% else %}
                        Описание отсутствует.
                        Ждем, пока продавец его добавит.
                    {% endif %}
                </p>
                <p class="lead">Категория: {{ product_category }}</p>
                <p class="lead">Дата добавления: {{ product_created_at }} </p>

                <div class="mt-2">
                    <a href="{% url 'catalog:product_detail' product.pk %}" class="btn btn-primary btn-lg btn-block">
                        Купить
                    </a>
                </div>
                <div class="mt-2">
                    <a href="{% url 'catalog:version_detail' product.pk %}" class="btn btn-success btn-lg btn-block">
                        Посмотреть версию
                    </a>
                </div>
                <div class="mt-2">
                    {% if perms.catalog.can_edit_description and perms.catalog.can_edit_category and perms.catalog.can_cancel_publishing or user == product.owner %}
                        <a href="{% url 'catalog:product_delete' product.pk %}" class="btn btn-danger btn-lg btn-block">Удалить</a>
                        <a href="{% url 'catalog:product_update' product.pk %}" class="btn btn-warning btn-lg btn-block">Изменить</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}